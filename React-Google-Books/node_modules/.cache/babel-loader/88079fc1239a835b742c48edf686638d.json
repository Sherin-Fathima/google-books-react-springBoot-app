{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sheri\\\\Downloads\\\\React-Google-Books-API-main\\\\React-Google-Books-API-main\\\\src\\\\containers\\\\BooksContainer\\\\BooksContainer.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useRef, useState, React } from \"react\";\nimport BookCard from \"../../components/BookCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst searchBooks = async function (query) {\n  let key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"AIzaSyBbNMtM5lvGlIV4W4cDecMlRAJU924sXCE\";\n  const response = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}&key=${key}`);\n  const data = await response.json();\n  return data.items;\n};\n\nconst SearchBooks = _ref => {\n  _s();\n\n  let {\n    initialValue = \"\",\n    onSubmit\n  } = _ref;\n  const [internal, setInternal] = useState(initialValue);\n\n  const handleChange = e => setInternal(e.target.value);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(internal);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      value: internal,\n      onChange: handleChange,\n      placeholder: \"Search here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SearchBooks, \"WJFLTKwM/GrCwH5SFnVwRimuM7A=\");\n\n_c = SearchBooks;\n\nconst emptySearch = () => {\n  return /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Sorry, no books have been found for your query\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 12\n  }, this);\n};\n\nconst BooksContainer = () => {\n  _s2();\n\n  const [search, setSearch] = useState(\"\");\n  const firstMount = useRef(true);\n  const [books, setBooks] = useState([]);\n  useEffect(() => {\n    if (firstMount.current === true) {\n      firstMount.current = false;\n      return;\n    }\n\n    searchBooks(search).then(searchedBooks => setBooks(searchedBooks));\n  }, [search]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(SearchBooks, {\n        onSubmit: setSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !books && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Sorry, no books were found for your query.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this) || books && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [books.map((book, index) => /*#__PURE__*/_jsxDEV(BookCard, {\n          data: book.volumeInfo\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }, this)), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(BooksContainer, \"NkHharebzZwg+gpQJLr3/8wptYA=\");\n\n_c2 = BooksContainer;\nexport default BooksContainer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SearchBooks\");\n$RefreshReg$(_c2, \"BooksContainer\");","map":{"version":3,"names":["useEffect","useRef","useState","React","BookCard","searchBooks","query","key","response","fetch","data","json","items","SearchBooks","initialValue","onSubmit","internal","setInternal","handleChange","e","target","value","handleSubmit","preventDefault","emptySearch","BooksContainer","search","setSearch","firstMount","books","setBooks","current","then","searchedBooks","map","book","index","volumeInfo"],"sources":["C:/Users/sheri/Downloads/React-Google-Books-API-main/React-Google-Books-API-main/src/containers/BooksContainer/BooksContainer.jsx"],"sourcesContent":["import { useEffect, useRef, useState, React } from \"react\";\nimport BookCard from \"../../components/BookCard\";\n\nconst searchBooks = async (\n    query,\n    key = \"AIzaSyBbNMtM5lvGlIV4W4cDecMlRAJU924sXCE\"\n) => {\n    const response = await fetch(\n        `https://www.googleapis.com/books/v1/volumes?q=${query}&key=${key}`\n    );\n\n    const data = await response.json();\n    return data.items;\n};\n\nconst SearchBooks = ({ initialValue = \"\", onSubmit }) => {\n    const [internal, setInternal] = useState(initialValue);\n\n    const handleChange = (e) => setInternal(e.target.value);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        onSubmit(internal);\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <input\n                \n                value={internal}\n                onChange={handleChange}\n                placeholder=\"Search here\"\n            />\n            <button >\n                Search\n            </button>\n        </form>\n    );\n};\n\nconst emptySearch = () => {\n    return <h2>Sorry, no books have been found for your query</h2>;\n};\n\nconst BooksContainer = () => {\n    const [search, setSearch] = useState(\"\");\n    const firstMount = useRef(true);\n    const [books, setBooks] = useState([]);\n\n    useEffect(() => {\n        if (firstMount.current === true) {\n            firstMount.current = false;\n            return;\n        }\n\n        searchBooks(search).then((searchedBooks) => setBooks(searchedBooks));\n    }, [search]);\n    return (\n        <main >\n            <div>\n                <SearchBooks onSubmit={setSearch} />\n            </div>\n            <div>\n                {(!books && (\n                    <p>Sorry, no books were found for your query.</p>\n                )) ||\n                    (books && (\n                        <div\n                      \n                        >\n                            {books.map((book, index) => (\n                                <BookCard key={index} data={book.volumeInfo} />\n                            ))}{\" \"}\n                        </div>\n                    ))}\n            </div>\n        </main>\n    );\n};\n\nexport default BooksContainer;\n"],"mappings":";;;;AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,EAAsCC,KAAtC,QAAmD,OAAnD;AACA,OAAOC,QAAP,MAAqB,2BAArB;;;AAEA,MAAMC,WAAW,GAAG,gBAChBC,KADgB,EAGf;EAAA,IADDC,GACC,uEADK,yCACL;EACD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACvB,iDAAgDH,KAAM,QAAOC,GAAI,EAD1C,CAA5B;EAIA,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;EACA,OAAOD,IAAI,CAACE,KAAZ;AACH,CAVD;;AAYA,MAAMC,WAAW,GAAG,QAAqC;EAAA;;EAAA,IAApC;IAAEC,YAAY,GAAG,EAAjB;IAAqBC;EAArB,CAAoC;EACrD,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAACY,YAAD,CAAxC;;EAEA,MAAMI,YAAY,GAAIC,CAAD,IAAOF,WAAW,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvC;;EAEA,MAAMC,YAAY,GAAIH,CAAD,IAAO;IACxBA,CAAC,CAACI,cAAF;IACAR,QAAQ,CAACC,QAAD,CAAR;EACH,CAHD;;EAKA,oBACI;IAAM,QAAQ,EAAEM,YAAhB;IAAA,wBACI;MAEI,KAAK,EAAEN,QAFX;MAGI,QAAQ,EAAEE,YAHd;MAII,WAAW,EAAC;IAJhB;MAAA;MAAA;MAAA;IAAA,QADJ,eAOI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAPJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAaH,CAvBD;;GAAML,W;;KAAAA,W;;AAyBN,MAAMW,WAAW,GAAG,MAAM;EACtB,oBAAO;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;AACH,CAFD;;AAIA,MAAMC,cAAc,GAAG,MAAM;EAAA;;EACzB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBzB,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM0B,UAAU,GAAG3B,MAAM,CAAC,IAAD,CAAzB;EACA,MAAM,CAAC4B,KAAD,EAAQC,QAAR,IAAoB5B,QAAQ,CAAC,EAAD,CAAlC;EAEAF,SAAS,CAAC,MAAM;IACZ,IAAI4B,UAAU,CAACG,OAAX,KAAuB,IAA3B,EAAiC;MAC7BH,UAAU,CAACG,OAAX,GAAqB,KAArB;MACA;IACH;;IAED1B,WAAW,CAACqB,MAAD,CAAX,CAAoBM,IAApB,CAA0BC,aAAD,IAAmBH,QAAQ,CAACG,aAAD,CAApD;EACH,CAPQ,EAON,CAACP,MAAD,CAPM,CAAT;EAQA,oBACI;IAAA,wBACI;MAAA,uBACI,QAAC,WAAD;QAAa,QAAQ,EAAEC;MAAvB;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAII;MAAA,UACM,CAACE,KAAD,iBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADH,IAGIA,KAAK,iBACF;QAAA,WAGKA,KAAK,CAACK,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,kBACP,QAAC,QAAD;UAAsB,IAAI,EAAED,IAAI,CAACE;QAAjC,GAAeD,KAAf;UAAA;UAAA;UAAA;QAAA,QADH,CAHL,EAKQ,GALR;MAAA;QAAA;QAAA;QAAA;MAAA;IALZ;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAqBH,CAlCD;;IAAMX,c;;MAAAA,c;AAoCN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}